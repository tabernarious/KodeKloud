#ignore_errors.yml
---
- name: Deploy web app but do not fail play if mail task fails
  hosts: all
  any_errors_fatal: true
  tasks:
    - name: Install dependencies
      # details
    - name: Install MySQL database
      # details
    - name: Start MySQL service
      # details
    - name: Install Python Flask dependencies
      # details
    - name: Run web server
      # details
    - name: Send status email if successful
      mail:
        to: admin@company.com
        subject: Web server configured successfully - {{ inventory_hostname }}
        body: Web server configured successfully - {{ inventory_hostname }}
      ignore_errors: yes